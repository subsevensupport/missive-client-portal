<div class="ticket <%= ticket.closed_at ? 'closed' : 'open' %>">
  <a href="<%= ticket.app_url %>" class="ticket-title"><%= ticket.title %></a>

  <div class="team"><%= ticket.team %></div>
  <!-- TODO: don't show progress bar if there are no tasks -->
  <div class="progress-container">
    <div class="progress-bar">
      <div class="progress-fill" style="width: <%= Math.round((ticket.completed_tasks / ticket.total_tasks) * 100) %>%"></div>
    </div>
    <div class="tasks-count"><%= ticket.completed_tasks %>/<%= ticket.total_tasks %></div>
  </div>

  <div class="ticket-dates">
    <span class="created-date">Created: <%= formatSmartDate(ticket.created_at) %></span>
    <!-- TODO: if the ticket is closed, show closed: closed_at instead of activity -->
    <span class="activity-date">Activity: <%= formatSmartDate(ticket.last_activity_at) %></span>
  </div>
</div>
